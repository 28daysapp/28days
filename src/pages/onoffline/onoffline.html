<!--
  Generated template for the OnofflinePage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header no-border>
  <ion-navbar no-border-bottom>
		<button ion-button menuToggle>
			<ion-icon name="menu"></ion-icon>
		</button>
      <ion-title class="title">서포터/상담사</ion-title>
    </ion-navbar>
    <ion-toolbar no-border>
        <ion-searchbar (ionInput)="getItems($event)" placeholder="검색"></ion-searchbar>
    </ion-toolbar>
  </ion-header>
  
  <ion-content no-border>
    <!-- Segment in content -->
    <ion-segment mode="md" [(ngModel)]="type" (ionChange)="getList()">
        <ion-segment-button value="Supporter">
          서포터
        </ion-segment-button>
        <ion-segment-button value="Counselor">
          전문상담사
        </ion-segment-button>
      </ion-segment>
  <ion-list *ngIf="isSupporter" no-lines>
    <ion-item *ngFor="let user of userList" (click)="supporterreview(user)">
      <div class="list">
        <div class="profilephoto">
          <img *ngIf="user.photoURL" src="{{user.photoURL}}">
          <img *ngIf="!user.photoURL" src="assets/peanut.png">
        </div>
        <div class="text">
        <div class="name">{{user.username}} </div>
          <div class="badge"> ㅇ X 0 ㅇ X 0</div>
        <div class="greeting">"{{user.greeting}}"</div>
        <div class="kinds">전문상담분야</div>
        <div class="personalkinds" *ngIf="user.tag1">{{user.tag1}}</div>
        <div class="personalkinds" *ngIf="user.tag2">{{user.tag2}}</div>
        <div class="personalkinds" *ngIf="user.tag3">{{user.tag3}}</div>
        <div class="reviewsum0" *ngIf="user.reviewcnt==0">후기 0</div>
        <div class="reviewsum1" *ngIf="user.reviewcnt!=0">후기 {{user.reviewcnt}}</div>
      </div>
      </div>
    </ion-item>
  </ion-list>

  <ion-list *ngIf="isCounselor" no-lines>
    <ion-item *ngFor="let user of userList" (click)="counselorreview(user)">
      <div class="list">
        <div class="profilephoto">
          <img *ngIf="user.photoURL" src="{{user.photoURL}}">
          <img *ngIf="!user.photoURL" src="assets/peanut.png">
        </div>
        <div class="text">
        <div class="name">{{user.username}} 상담사</div>
          <div class="badge"> ㅇ X 0 ㅇ X 0</div>
        <div class="greeting">"{{user.greeting}}"</div>
        <div class="kinds">전문상담분야</div>
        <div class="personalkinds" *ngIf="user.tag1">{{user.tag1}}</div>
        <div class="personalkinds" *ngIf="user.tag2">{{user.tag2}}</div>
        <div class="personalkinds" *ngIf="user.tag3">{{user.tag3}}</div>
        <div class="reviewsum0" *ngIf="user.reviewcnt==0">리뷰 0</div>
        <div class="reviewsum" *ngIf="user.reviewcnt!=0">
          <img src="assets/icon/star.svg">
          <div class="avg"> {{user.ratingavg}} </div>
          <div class="count"> 후기 {{user.reviewcnt}}</div>
        </div>
      </div>
      </div>
    </ion-item>
  </ion-list>
   
  </ion-content>